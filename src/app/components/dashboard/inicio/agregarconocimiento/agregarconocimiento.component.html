<div class="containertitle">
    <mat-toolbar>
      <span>Agregar conocimiento</span>
    </mat-toolbar>
    <mat-card>
      <form ngNativeValidate [formGroup]="form">
        <mat-grid-list cols="4" rowHeight="70px">
          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="columns" style="width: 80%;">
              <mat-label *ngIf="selectedFiles; else newFile"  >{{selectedFiles.item(0).name}}</mat-label>
              <ng-template #newFile>
                  <mat-label>Archivo ZIP</mat-label>
              </ng-template>
              <input matInput disabled>
              <button mat-icon-button matSuffix (click)="fileInput.click()">
                  <mat-icon>attach_file</mat-icon>
              </button>
              <input hidden (change)="selectFile($event)" #fileInput type="file" id="file">
          </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="6">
            <div class="table-wrapper-scroll-y my-custom-scrollbar">
              <td>Topicos</td>
                <tbody>
                    <tr *ngFor="let topc of Topicosseparate; let iControl=index">
                        <td>{{topc.item}}</td>
                        <mat-icon (click)="deletetopico(topc.id,iControl)">delete</mat-icon>
                    </tr>
                    
                </tbody>
            </div>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="ancho">
              <mat-label>Nombre</mat-label>
              <input matInput type="nombre" required formControlName="nombre" [(ngModel)]="conocimientoform.nombre">
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="ancho">
              <mat-label>Descripción</mat-label>
              <input matInput type="descripcion" required formControlName="descripcion" [(ngModel)]="conocimientoform.descripcion">
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="ancho">
              <mat-label>Nivel</mat-label>
              <input matInput type="number" required formControlName="nivel" [(ngModel)]="conocimientoform.nivel">
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field class="ancho">
              <mat-label>Granularidad</mat-label>
              <input matInput type="number" required formControlName="descripcion" [(ngModel)]="conocimientoform.granularidad">
            </mat-form-field>
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <mat-form-field style="width: 78%;">
                <mat-label>Tópicos</mat-label>
                <input matInput #topicsnames type="tospics" formControlName="topics" [(ngModel)]="topicss.topic">
            </mat-form-field>
            <a class="pointer">
              <mat-icon type="reset" (click)="addtopico()" (click) = "topicsnames.value = ''">add</mat-icon>
            </a>  
          </mat-grid-tile>

          <mat-grid-tile [colspan]="2" [rowspan]="1">
            <button mat-raised-button style="margin-right: 20px;" routerLink="/dashboard">Volver</button>
            <button mat-raised-button (click)="AgregarConocimiento()" color="primary">Agregar</button> 
          </mat-grid-tile>          
        </mat-grid-list>   
      </form>
    </mat-card>
</div>